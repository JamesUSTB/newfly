# 纵向切缝路面动力响应特征分析 - 项目总览

## 项目简介

本项目实现了一套完整的路面动力响应特征分析系统，用于分析纵向切缝对车载激励下路面振动响应的影响，并实现移动荷载识别和健康状态判别。

## 核心技术

### 1. 信号预处理
- **小波阈值去噪**：使用db4小波基，5层分解
- **高通滤波**：去除低频漂移（0.5Hz截止）
- **多项式去趋势**：2阶多项式拟合
- **Savitzky-Golay平滑**：11点窗口，3阶多项式

### 2. 事件检测
- **多传感器能量包络**：综合多个传感器信号
- **自适应阈值**：基于均值+k倍标准差
- **峰值检测**：识别车辆通过事件
- **片段截取**：提取1秒事件窗口

### 3. 特征提取

#### 时域特征（14个/通道）
- 峰值、峰峰值、RMS、均值、标准差
- 峭度、偏度（高阶统计）
- 峰值因子、波形因子、脉冲因子、裕度因子
- 有效持续时间、过零率、能量

#### 频域特征（10个/通道）
- 主频、质心频率、带宽
- 4个频带能量占比（0-10Hz、10-50Hz、50-150Hz、150-500Hz）
- 谱熵、谱平坦度、谱滚降点

#### 时频特征（17个/通道）
- 小波能量熵
- 5层小波能量（a5, d5, d4, d3, d2, d1）
- 各层能量占比
- 各层方差

#### MFCC特征（13个/通道）
- 13个MFCC系数
- 适配振动信号（0-500Hz频率范围）

#### 跨缝特征（8个/深度）
- **LTE（传荷能力）**：非加载侧峰值/加载侧峰值
- **能量传递率**：右板能量/左板能量
- **互相关系数**：波形相似度
- **相位差**：波传播延迟（度）
- **时间延迟**：波到达时差（秒）
- **幅值比**：RMS比值
- **相干性**：频域相关性（均值和峰值）

### 4. 机器学习模型

#### LightGBM基础模型
- **分类任务**：4类速度等级（40/60/80/100 km/h）
  - 评估指标：准确率、F1分数、混淆矩阵
  
- **回归任务**：连续速度预测
  - 评估指标：MAE、RMSE、R²、MAPE

#### PIRCN（Physics-Informed Residual Correction Network）
- **架构**：LightGBM + 残差修正神经网络
- **网络结构**：Input → FC(64) → ReLU → FC(32) → ReLU → FC(16) → ReLU → FC(1)
- **物理约束**：
  1. 动力放大系数约束：峰值应随速度增加（低速段）
  2. 主频-速度关系：f ∝ v/L（轴距关系）
  3. 传荷能力边界：0 < LTE < 1
  4. 能量守恒：左右板总能量守恒
  
- **损失函数**：L = L_MSE + λ₁·L_physics + λ₂·L_smooth
  - L_MSE：均方误差
  - L_physics：物理约束违反惩罚
  - L_smooth：预测平滑性约束

#### 孤立森林（Isolation Forest）
- **特征选择**：优先选择跨缝特征（LTE、能量传递、互相关等）
- **异常分数**：0-1范围，归一化处理
- **健康状态分级**：
  - 健康：< 0.3
  - 轻度异常：0.3-0.5
  - 中度异常：0.5-0.7
  - 重度异常：≥ 0.7

## 数据流程

```
原始CSV文件（多个）
    ↓
多文件拼接（按时间戳排序）
    ↓
信号预处理（降噪 → 去趋势 → 平滑）
    ↓
事件检测（能量包络 → 阈值检测 → 峰值定位）
    ↓
片段截取（1秒窗口，以峰值为中心）
    ↓
特征提取（时域 + 频域 + 时频 + MFCC + 跨缝）
    ↓
特征矩阵（N样本 × M特征）
    ↓
模型训练
    ├─ LightGBM分类/回归
    ├─ PIRCN残差修正
    └─ 孤立森林异常检测
    ↓
结果输出与可视化
```

## 实验设置

- **测点**：K6
- **载重**：2t（标准两轴试验车）
- **速度**：40、60、80、100 km/h
- **工况**：
  - A：车辆在超车道行驶（左板加载）
  - B：车辆在主车道行驶（右板加载）
  - C：车辆骑跨切缝行驶（跨缝加载）
- **传感器**：
  - 左板：acce6（5cm）、acce16（3.5cm）
  - 右板：acce7-10,1-5（5cm）、acce17-20,11-15（3.5cm）
  - 跨缝对：6↔7（5cm）、16↔17（3.5cm）
- **采样频率**：1000 Hz

## 关键技术指标

### 特征维度
- 单传感器特征：~50个（时域14 + 频域10 + 时频17 + MFCC13）
- 跨缝特征：16个（2个深度 × 8个特征）
- 总特征数：~800个（16个传感器 × 50 + 16跨缝特征）

### 模型性能（预期）
- **LightGBM分类**：准确率 > 90%
- **LightGBM回归**：RMSE < 5 km/h
- **PIRCN修正**：RMSE降低10-20%
- **异常检测**：异常识别率 > 85%

## 技术创新点

1. **物理引导的残差修正**：将路面动力学物理约束融入深度学习
2. **多尺度特征融合**：时域、频域、时频域的全面特征提取
3. **跨缝传荷分析**：定量评估切缝的传荷能力
4. **无监督健康诊断**：基于正常数据训练，无需标注异常样本

## 应用场景

1. **路面健康监测**：实时评估切缝传荷性能
2. **速度识别**：基于振动响应反推车辆速度
3. **超载检测**：异常振动响应可能指示超载
4. **养护决策**：异常分数指导维修优先级

## 扩展方向

1. **多测点融合**：结合多个测点数据提升精度
2. **温度修正**：考虑温度对路面响应的影响
3. **损伤定位**：识别具体损伤位置和类型
4. **在线监测**：实现实时数据处理和报警

## 文件说明

### 核心代码
- `src/config.py`：全局配置参数
- `src/main.py`：主程序入口
- `src/data/`：数据加载和预处理
- `src/features/`：特征提取模块
- `src/models/`：机器学习模型
- `src/utils/`：工具函数（可视化、评估）

### 辅助文件
- `generate_sample_data.py`：生成测试数据
- `test_installation.py`：测试环境配置
- `requirements.txt`：依赖包列表
- `README.md`：详细文档
- `QUICKSTART.md`：快速开始指南

## 性能优化建议

### 计算效率
- 使用NumPy向量化操作
- 批量处理特征提取
- GPU加速PIRCN训练（自动检测）

### 内存优化
- 逐文件处理大数据集
- 只保留必要的中间结果
- 使用生成器处理数据流

### 模型优化
- 特征选择：去除冗余特征
- 超参数调优：网格搜索或贝叶斯优化
- 集成学习：多模型投票或堆叠

## 引用和参考

### 相关方法
- LightGBM: Ke et al., "LightGBM: A Highly Efficient Gradient Boosting Decision Tree", NIPS 2017
- Isolation Forest: Liu et al., "Isolation Forest", ICDM 2008
- MFCC: Davis & Mermelstein, "Comparison of Parametric Representations for Monosyllabic Word Recognition", IEEE TASSP 1980

### 路面工程
- Load Transfer Efficiency (LTE)
- Pavement structural health monitoring
- Vehicle-pavement interaction dynamics

## 版本历史

- **v1.0.0** (2024): 初始版本，实现完整分析流程

## 联系方式

[待补充]

---

**Note**: 这是一个研究原型系统，实际应用中需要根据具体需求进行调整和优化。
